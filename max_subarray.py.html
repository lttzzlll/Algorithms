<html><head>
<title>max_subarray.py</title>
<meta name="Generator" content="htmlizer/[twisted, version 13.2.0]" />
<link rel="alternate" href="max_subarray.py" type="text/x-python" />

</head>
<body>
<pre><span class="py-src-comment">#/usr/bin/env python</span>

<span class="py-src-string">'''  maximum subarray 
	'''</span>


<span class="py-src-string">'''input data'''</span>
<span class="py-src-variable">l</span> = [ 
 <span class="py-src-number">0</span>,
 <span class="py-src-number">13</span>,
 -<span class="py-src-number">3</span>,
 -<span class="py-src-number">25</span>,
 <span class="py-src-number">20</span>,
 -<span class="py-src-number">3</span>,
 -<span class="py-src-number">16</span>,
 -<span class="py-src-number">23</span>,
 <span class="py-src-number">18</span>,
 <span class="py-src-number">20</span>,
 -<span class="py-src-number">7</span>,
 <span class="py-src-number">12</span>,
 -<span class="py-src-number">5</span>,
 -<span class="py-src-number">22</span>,
 <span class="py-src-number">15</span>,
 -<span class="py-src-number">4</span>,
 <span class="py-src-number">7</span>
]


<span class="py-src-keyword">def</span> <span class="py-src-identifier">find_max_crossing_subarray</span>(<span class="py-src-parameter">a</span>, <span class="py-src-parameter">low</span>, <span class="py-src-parameter">mid</span>, <span class="py-src-parameter">high</span>):
	<span class="py-src-string">''' find max cossing subarray 
		'''</span>
 <span class="py-src-keyword">if</span> <span class="py-src-variable">low</span> &gt;= <span class="py-src-variable">mid</span>:
		<span class="py-src-keyword">return</span>  (<span class="py-src-variable">low</span>, <span class="py-src-variable">low</span>, <span class="py-src-variable">a</span>[<span class="py-src-variable">low</span>])

 <span class="py-src-variable">left_sum</span> = -<span class="py-src-number">9999999999999999999999999999999</span>
 <span class="py-src-variable">total_sum</span> = <span class="py-src-number">0</span>
 <span class="py-src-variable">max_left</span> = <span class="py-src-variable">mid</span>
 <span class="py-src-variable">l</span> = <span class="py-src-variable">list</span>(<span class="py-src-variable">range</span>(<span class="py-src-variable">low</span>, <span class="py-src-variable">mid</span>+<span class="py-src-number">1</span>)).<span class="py-src-variable">reverse</span>()
 <span class="py-src-keyword">if</span> <span class="py-src-variable">l</span> <span class="py-src-keyword">is</span> <span class="py-src-keyword">not</span> <span class="py-src-variable">None</span>:
		<span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">l</span>:
			<span class="py-src-variable">total_sum</span> += <span class="py-src-variable">a</span>[<span class="py-src-variable">i</span>]
   <span class="py-src-keyword">if</span> <span class="py-src-variable">sum</span> &gt; <span class="py-src-variable">left_sum</span>:
				<span class="py-src-variable">left_sum</span> = <span class="py-src-variable">total_sum</span>
    <span class="py-src-variable">max_left</span> = <span class="py-src-variable">i</span>

 <span class="py-src-variable">right_sum</span> = -<span class="py-src-number">999999999999999999999999999999</span>
 <span class="py-src-variable">total_sum</span> = <span class="py-src-number">0</span>
 <span class="py-src-variable">max_right</span> = <span class="py-src-variable">mid</span>
 <span class="py-src-keyword">for</span> <span class="py-src-variable">j</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">mid</span>+<span class="py-src-number">1</span>, <span class="py-src-variable">high</span>+<span class="py-src-number">1</span>):
		<span class="py-src-variable">total_sum</span> += <span class="py-src-variable">a</span>[<span class="py-src-variable">j</span>]
  <span class="py-src-keyword">if</span> <span class="py-src-variable">sum</span> &gt; <span class="py-src-variable">right_sum</span>:
			<span class="py-src-variable">right_sum</span> = <span class="py-src-variable">total_sum</span>
   <span class="py-src-variable">max_right</span> = <span class="py-src-variable">j</span>
 
 <span class="py-src-keyword">return</span> (<span class="py-src-variable">max_left</span>, <span class="py-src-variable">max_right</span>, <span class="py-src-variable">left_sum</span> + <span class="py-src-variable">right_sum</span>)

<span class="py-src-variable">cnt</span> = <span class="py-src-number">0</span>

<span class="py-src-keyword">def</span> <span class="py-src-identifier">find_maximum_subarray</span>(<span class="py-src-parameter">a</span>, <span class="py-src-parameter">low</span>, <span class="py-src-parameter">high</span>):
	<span class="py-src-string">''' find maximum subarray
		'''</span>
 <span class="py-src-keyword">global</span> <span class="py-src-variable">cnt</span>
 <span class="py-src-variable">cnt</span> += <span class="py-src-number">1</span>
 <span class="py-src-keyword">print</span> <span class="py-src-string">" in find maximum subarray low is cnt== %d low==%d high== %d"</span> %(<span class="py-src-variable">cnt</span>, <span class="py-src-variable">low</span>, <span class="py-src-variable">high</span>)
 <span class="py-src-keyword">if</span> <span class="py-src-variable">high</span> == <span class="py-src-variable">low</span>:
		<span class="py-src-keyword">return</span> (<span class="py-src-variable">low</span>, <span class="py-src-variable">high</span>, <span class="py-src-variable">a</span>[<span class="py-src-variable">low</span>])
 <span class="py-src-keyword">else</span>:
		<span class="py-src-variable">mid</span> = ((<span class="py-src-variable">low</span> + <span class="py-src-variable">high</span>)/<span class="py-src-number">2</span>)
  (<span class="py-src-variable">left_low</span>, <span class="py-src-variable">left_high</span>, <span class="py-src-variable">left_sum</span>) = <span class="py-src-variable">find_maximum_subarray</span>(<span class="py-src-variable">a</span>, <span class="py-src-variable">low</span>, <span class="py-src-variable">mid</span>)
  (<span class="py-src-variable">right_low</span>, <span class="py-src-variable">right_high</span>, <span class="py-src-variable">right_sum</span>) = <span class="py-src-variable">find_maximum_subarray</span>(<span class="py-src-variable">a</span>, <span class="py-src-variable">mid</span>+<span class="py-src-number">1</span>, <span class="py-src-variable">high</span>)
  (<span class="py-src-variable">cross_low</span>, <span class="py-src-variable">cross_high</span>, <span class="py-src-variable">cross_sum</span>) = <span class="py-src-variable">find_max_crossing_subarray</span>(<span class="py-src-variable">a</span>, <span class="py-src-variable">low</span>, <span class="py-src-variable">mid</span>, <span class="py-src-variable">high</span>)
  
  <span class="py-src-keyword">if</span> <span class="py-src-variable">left_sum</span> &gt;= <span class="py-src-variable">right_sum</span> <span class="py-src-keyword">and</span> <span class="py-src-variable">left_sum</span> &gt;= <span class="py-src-variable">cross_sum</span>:
			<span class="py-src-keyword">return</span> (<span class="py-src-variable">left_low</span>, <span class="py-src-variable">left_high</span>, <span class="py-src-variable">left_sum</span>)
  <span class="py-src-keyword">elif</span> <span class="py-src-variable">right_sum</span> &gt;= <span class="py-src-variable">left_sum</span> <span class="py-src-keyword">and</span> <span class="py-src-variable">right_sum</span> &gt;= <span class="py-src-variable">cross_sum</span>:
			<span class="py-src-keyword">return</span> (<span class="py-src-variable">right_low</span>, <span class="py-src-variable">right_high</span>, <span class="py-src-variable">right_sum</span>)
  <span class="py-src-keyword">else</span>:
			<span class="py-src-keyword">return</span> (<span class="py-src-variable">cross_low</span>, <span class="py-src-variable">cross_high</span>, <span class="py-src-variable">cross_sum</span>)

<span class="py-src-string">''' main '''</span>
<span class="py-src-keyword">if</span> <span class="py-src-variable">__name__</span> == <span class="py-src-string">'__main__'</span>:
	<span class="py-src-keyword">print</span> <span class="py-src-variable">find_maximum_subarray</span>(<span class="py-src-variable">l</span>, <span class="py-src-number">0</span>, <span class="py-src-variable">len</span>(<span class="py-src-variable">l</span>))

</pre>
</body>